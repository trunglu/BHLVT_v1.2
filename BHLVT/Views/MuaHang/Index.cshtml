@model BHLVTBLL.ModelsBLL.ViewModel.POViewModel

@section styles{
    <link href="~/public/js/autocomplete/dist/easy-autocomplete.min.css" rel="stylesheet" type="text/css">

    <link href="~/public/css/scrollbar-basic.css" rel="stylesheet" />
    <!-- daterange picker -->
    <link rel="stylesheet" href="~/Themes/AdminLTE/bower_components/bootstrap-daterangepicker/daterangepicker.css">
    <!-- bootstrap datepicker -->
    <link rel="stylesheet" href="~/Themes/AdminLTE/bower_components/bootstrap-datepicker/dist/css/bootstrap-datepicker.min.css">
    <link href="~/public/css/datagridstyle.css" rel="stylesheet" />
    <link href="~/public/css/customizestyle.css" rel="stylesheet" />
}
<section class="content">
    <div>
        <form action="" method="post">
            @Html.AntiForgeryToken()
            <div class="col-md-12">
                <div class="col-md-6">
                    <div class="row col-md-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.poph2.ma_gd, "Hàng mua", new { @class = "col-sm-3 control-label" })
                            <div class="col-sm-7">
                                @Html.TextBoxFor(model => model.poph2.ma_gd, new { @class = "form-control input-sm" })
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.poph2.ngay_ct, "Ngày phiếu nhập", new { @class = "col-sm-6 control-label" })
                                <div class="col-sm-6">
                                    @Html.TextBoxFor(model => model.poph2.ngay_ct, new { @class = "form-control input-sm" })
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                @Html.LabelFor(model => model.poph2.so_ct, "Số phiếu nhập", new { @class = "col-sm-6 control-label" })
                                <div class="col-sm-6">
                                    @Html.TextBoxFor(model => model.poph2.so_ct, new { @class = "form-control input-sm" })
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row col-md-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.poph2.dien_giai, "Diễn giải", new { @class = "col-sm-3 control-label" })
                            <div class="col-sm-7">
                                @Html.TextBoxFor(model => model.poph2.dien_giai, new { @class = "form-control input-sm" })
                            </div>
                        </div>
                    </div>

                </div>
                <div class="col-md-6">
                    <div class="row col-md-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.poph2.so_seri_hd, "Seri hóa đơn", new { @class = "col-sm-3 control-label" })
                            <div class="col-sm-5">
                                @Html.TextBoxFor(model => model.poph2.so_seri_hd, new { @class = "form-control input-sm" })
                            </div>
                        </div>
                    </div>
                    <div class="row col-md-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.poph2.so_hd, "Số hóa đơn", new { @class = "col-sm-3 control-label" })
                            <div class="col-sm-5">
                                @Html.TextBoxFor(model => model.poph2.so_hd, new { @class = "form-control input-sm" })
                            </div>
                        </div>
                    </div>
                    <div class="row col-md-12">
                        <div class="form-group">
                            @Html.LabelFor(model => model.poph2.ngay_hd, "Ngày hóa đơn", new { @class = "col-sm-3 control-label" })
                            <div class="col-sm-5">
                                @Html.TextBoxFor(model => model.poph2.ngay_hd, new { @class = "form-control input-sm" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-12" style="padding-top:3px">
                <div class="nav-tabs-custom">
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#tab_1" data-toggle="tab">Chi tiết</a></li>
                        <li><a href="#tab_2" data-toggle="tab">Chi phí</a></li>
                        <li><a href="#tab_3" data-toggle="tab">Thuế GTGT</a></li>
                        <li><a href="#tab_4" data-toggle="tab">Tổng số</a></li>
                        <li class="dropdown hidden">
                            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
                                Dropdown <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu">
                                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Action</a></li>
                                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Another action</a></li>
                                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Something else here</a></li>
                                <li role="presentation" class="divider"></li>
                                <li role="presentation"><a role="menuitem" tabindex="-1" href="#">Separated link</a></li>
                            </ul>
                        </li>
                        <li class="pull-right"><a href="#" class="text-muted"><i class="fa fa-gear"></i></a></li>
                    </ul>
                    <div class="tab-content">
                        <div class="tab-pane active" id="tab_1">
                            <div class="col-md-12">
                                <div class="row col-md-6">
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "Nhà cung cấp", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "Người giao", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "Hợp đồng", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "Điều khoản TT", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "Hình thức TT", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "TK phải trả", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.ma_kh, "Ngoại tệ", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-3">
                                            @Html.TextBoxFor(model => model.poph2.ma_kh, new { @class = "form-control input-sm" })
                                        </div>
                                        <div class="col-sm-4">
                                            <input type="text" class="form-control input-sm" />
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.so_dh, "Số đơn hàng", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.so_dh, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>
                                    <div class="row form-group">
                                        @Html.LabelFor(model => model.poph2.trang_thai, "Trạng thái", new { @class = "col-sm-3 control-label" })
                                        <div class="col-sm-7">
                                            @Html.TextBoxFor(model => model.poph2.trang_thai, new { @class = "form-control input-sm" })
                                        </div>
                                    </div>

                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="table-responsive">
                                            <table class="table table-striped scroll table-bordered" data-row="@(Model.l_poct2.Count()+1)" id="dataTable" style="text-align  : center;margin-bottom:0px;">
                                                <thead><tr><th></th><th>Tên VT</th><th>ĐVT</th><th>Mã Kho</th><th>Số lượng</th><th>Giá</th><th>Tiền Hàng</th><th>Tiền hàng VNĐ</th><th>TS NK</th><th>Thuế NK</th><th>Thuế NK VNĐ</th><th>TS VAT</th></tr></thead>
                                                <tbody>
                                                    @{
                                                        var c = Model.l_poct2.Count();
                                                        var script_st = "var rowCount=1;";
                                                        for (int i = 0; i < c; i++)
                                                        {
                                                            script_st += "var data={}; oninitHangHoa((rowCount - 1),'l_poct2_"+i+"__ten_vt',data);";
                                                            <tr>
                                                                <td style="width:20px">
                                                                    <input type="checkbox" name="chk" value="@i" style="/*width: 80px;*/" />
                                                                </td>
                                                                <td>
                                                                    <div style="width:200px">
                                                                        <div class="hidden">
                                                                            <input name="l_poct2[@i].ma_vt" id="l_poct2_@(i)__ma_vt" class="easyui-combobox" data-options="valueField:'id',textField:'text'" value="@Model.l_poct2[i].ma_vt" />
                                                                        </div>
                                                                        <input type="text" name="l_poct2[@i].ten_vt" class="form-control input-sm" id="l_poct2_@(i)__ten_vt" value="@Model.l_poct2[i].ten_vt"  placeholder="Tên hàng"/>
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:50px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].dvt, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].ma_kho, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].so_luong, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].gia, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].tien, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:100px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].tien, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].ts_nk, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].thue_nk, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:100px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].thue_nk, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                                <td>
                                                                    <div style="width:70px">
                                                                        @Html.TextBoxFor(model => model.l_poct2[i].ts_gtgt, new { @class = "form-control input-sm" })
                                                                    </div>
                                                                </td>
                                                            </tr>
                                                        }
                                                    }
                                                </tbody>
                                            </table>
                                            <div id="ft" style="padding:2px 5px;" class="panel-footer">
                                                <a href="javascript:void(0)" onclick="addRow('dataTable')" class="easyui-linkbutton l-btn-small" plain="true" group="" id=""><span class="fa  fa-plus">&nbsp;</span></a>
                                                <a href="javascript:void(0)" class="easyui-linkbutton  l-btn-small hidden" plain="true" group="" id=""><span class="fa  fa-edit">&nbsp;</span></a>
                                                <a href="javascript:void(0)" class="easyui-linkbutton l-btn-small hidden" plain="true" group="" id=""><span class="fa fa-save">&nbsp;</span></a>
                                                <a href="javascript:void(0)" class="easyui-linkbutton  l-btn-small hidden" plain="true" group="" id=""><span class="fa  fa-cut">&nbsp;</span></a>
                                                <a href="javascript:void(0)" onclick="deleteRow('dataTable')" class="easyui-linkbutton l-btn-small " plain="true" group="" id=""><span class="fa  fa-remove">&nbsp;</span></a>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                            <div class="clearfix"></div>
                        </div>
                        <div id="tab_2">

                        </div>
                        <div id="tab_3">

                        </div>
                        <div id="tab_4">

                        </div>
                    </div>
                </div>
                <div class="row col-md-12">
                    <input type="submit" value="Thực hiện" class="btn btn-flat btn-xs btn-success" />
                </div>
                <div class="clearfix"></div>
            </div>
            <div class="clearfix"></div>
        </form>
    </div>
   
</section>
@section scripts {
 <!-- date-range-picker -->
<script src="~/Themes/AdminLTE/bower_components/moment/min/moment.min.js"></script>
<script src="~/Themes/AdminLTE/bower_components/bootstrap-daterangepicker/daterangepicker.js"></script>
<!-- bootstrap datepicker -->
<script src="~/Themes/AdminLTE/bower_components/bootstrap-datepicker/dist/js/bootstrap-datepicker.min.js"></script>

<!--autocomplete-->
<script src="~/public/js/jquery.scrollbar.js"></script>
<script src="~/public/js/autocomplete/dist/jquery.easy-autocomplete.js" type="text/javascript"></script>
<script src="~/public/js/po/process_po.js"></script>
    <script type="text/javascript">
        @Html.Raw(script_st)
    </script>
}
